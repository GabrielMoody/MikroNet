syntax = "proto3";

package driver;
option go_package = "github.com/GabrielMoody/MikroNet/driver/internal/pb";

message Driver {
  string id = 1;
  string name = 2;
  string email = 3;
  optional string phone_number = 4;
  optional string sim = 5;
  optional string license_number = 6;
  optional string route = 7;
  optional bool verified = 8;
  optional string image_url = 9;
}

message CreateDriverRequest {
  string name = 1;
  string email = 2;
  string phone_number = 3;
  string license_number = 4;
  string sim = 5;
  bytes profile_picture = 6;
  string id = 7;
}

message ReqDrivers{
  oneof verified {
    bool is_verified = 1;
    bool not_verified = 2;
  }
}

message ReqByID {
  string id = 1;
}

message Drivers {
  repeated Driver drivers = 1;
}

service DriverService {
  rpc CreateDriver(CreateDriverRequest) returns (Driver){}
  rpc GetDrivers (ReqDrivers) returns (Drivers){}
  rpc GetDriverDetails (ReqByID) returns (Driver){}
  rpc DeleteDriver (ReqByID) returns (Driver){}
  rpc SetStatusVerified (ReqByID) returns (Driver){}
}
